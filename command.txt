# VM initial configuration and install
sudo apt-get update

sudo apt-get install docker.io

sudo usermod -aG docker $USER

sudo curl -L "https://github.com/docker/compose/releases/download/1.26.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

sudo chmod +x /usr/local/bin/docker-compose

docker-compose version

# Get data and files 
git clone git clone https://github.com/BillyBooglyBob/code.git && cd code

# Run the containers
sudo chmod -R 777 data/ 
docker-compose up -d

# Put data files into hdfs
# container_id is the "namenode" container id
docker ps
docker exec <container_id> hdfs dfs -put /home/data/price.csv /price.csv 
docker exec <container_id> hdfs dfs -put /home/data/specification.csv /specification.csv 

docker exec 55b6e hdfs dfs -put /home/data/price.csv /price.csv 
docker exec 55b6e hdfs dfs -put /home/data/specification.csv /specification.csv 

# Check files in hdfs
http://external_IP/explorer.html 

# Open the jupyter notebook
http://external_IP:8888